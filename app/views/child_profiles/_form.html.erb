<%= form_with model: [ @family_account, @child_profile ], class: "space-y-4" do |f| %>
  <div>
    <%= f.label :name, "Child's Name", class: "block text-sm font-medium text-gray-700 mb-1" %>
    <%= f.text_field :name, required: true, autofocus: true, class: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" %>
  </div>

  <div>
    <%= f.label :age, "Age", class: "block text-sm font-medium text-gray-700 mb-1" %>
    <%= f.number_field :age, required: true, min: 1, max: 18, class: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" %>
    <p class="text-xs text-gray-500 mt-1">Age 1-18</p>
  </div>

  <div>
    <%= f.label :avatar, "Avatar (optional)", class: "block text-sm font-medium text-gray-700 mb-1" %>
    <%= f.file_field :avatar, accept: "image/*", class: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" %>
    <% if @child_profile.avatar.attached? %>
      <div class="mt-2">
        <%= image_tag @child_profile.avatar, class: "w-20 h-20 rounded-full object-cover" %>
      </div>
    <% end %>
  </div>

  <div class="flex space-x-4">
    <%= f.submit "Save Profile", class: "flex-1 bg-purple-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-purple-700 transition duration-200" %>
    <%= link_to "Cancel", dashboard_path, class: "flex-1 bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-400 transition duration-200 text-center" %>
  </div>
<% end %>
